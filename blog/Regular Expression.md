### 元字符

#### 限定符

- \* 匹配前面字表达式零次或多次 例如 zo* 可以匹配 z, zoo 等价{0,}
- \+ 匹配前面字表达式一次或多次 zo+ 可以匹配 zo, zoo 但不能是 z 等价 {1,}
- ? 匹配前面子表达式零次或一次 例如 do(es)? 可以匹配 do,does 等价 {0,1}
- {n} n是非负整数。确定匹配n次 例如o{2} 不能匹配 bob 中的 o 可以匹配 food 中的 oo
- {n,} 同上，但是至少n次，可以多次
- {n,m} 同上 最少n，最多m

#### 特殊字符

（对于特殊字符，匹配其本身一般需要 “\\” 转义）
- ？用来匹配 **前面子表达式** 零次或一次，或指明一个非贪婪字符(有右边界的是非贪婪的 例如‘？’)
- \* 用来匹配 **前面子表达式** *零次*或多次
- $ 匹配结尾，如果有多行则也会匹配\\r,\\n
- () 标记一个子表达式
- \+ 匹配 **前面子表达式** 的*一次*或多次
- . 匹配换行符以外的任何单字符
- [ 匹配中括号表达式的开始
- { 编辑限定符表达式的开始
- | 指明两项之间的一个选择


#### 定位符

- ^ 匹配字符开始位置 如果有多行 则会匹配 \\n \\r。如果在方括号中表示 “非” “除去”
- $ 匹配结尾 同样多行匹配 \\n \\r
- \b 匹配字边界，即字与空格间的位置
- \B 非字边界匹配

#### 非打印符号

- \\cx 用来匹配 control 系列控制命令，例如\\cM表示control M，x的取值为A-Z 或者 a-z 否则将被看做是 c 的转义
- \\f 匹配一个换页符 == \\x0c, \\cL
- \\n 匹配换行符 == \\x0a,\\cJ
- \\r 匹配回车符 == \\x0d,\\cM
- \\v 垂直制表符 == \\x0b,\\cK
- \\t 水平制表符 == \\x09,\\cI
- \\s 匹配任何空白符 包括空格和以上非打印符号引起的空白 等价于{\\f\\n\\r\\t\\v}
- \\S 匹配任何非空白符 == {^\\f\\n\\t\\r\\v}

#### 其他元字符
- (?:pattern) 匹配pattern**但不获取结果，不进行存储供以后使用。**例如在 或 的时候 industr(?:y|ies) 要比 industry|industries 简洁。?: 一般用在有 | 的子表达式，避免不必要的存储备用。
- (?=pattern) 正向预查，在任何匹配 pattern 的字符串开始处匹配查找字符串。例如：Windows(?=95|98|NT|2000) 能匹配 Windows 2000 中的windows，不能匹配 windows 3.1 中的windows。预查不消耗字符，也就是说，在一个匹配发生后，在最后一次匹配之后立即开始下一次匹配的搜索，而不是从包含预查的字符之后开始。
- (?!pattern) 负向预查，在任何不匹配 pattern 的字符串开始处匹配查找字符串。例如'Windows (?!95|98|NT|2000)' 能匹配 "Windows 3.1" 中的 "Windows"，但不能匹配 "Windows 2000" 中的 "Windows"。预查不消耗字符，也就是说，在一个匹配发生后，在最后一次匹配之后立即开始下一次匹配的搜索，而不是从包含预查的字符之后开始。 
- (x|y) 匹配x|y 例如 (z|f)ood 匹配zood或food
- [xyz] 字符集合，匹配所包含任一字符。例如[abc] 匹配 plain中的a
- [^xyz] 负值字符集合 与上面相反。例如[^abc]匹配plain中的p l i n
- [a-z] 字符范围
- [^a-z] 负值字符范围
- \d 匹配一个数字字符
- \D 匹配一个非数字
- \w 匹配包括*下划线*的任何单词字符 == [A-Za-z0-9]
- \W 匹配任何非单词字符 == [^A-Za-z0-9]
- \xn n为十六进制转义值 \x41 为A == \x4 & 1
- \num num是一个正整数，对所获取的匹配的引用 例如(.)\1 匹配两个连续的相同字符
- \n 标识一个八进制转义值或向后引用。如果\n之前有n个子表达式，则为向后引用，否则为八进制转义。
- \nml 如果n为八进制 0-3 ml均为八进制0-7 则nml为转义
- \un 匹配n，其中n是一个用四个十六进制数字表示的Unicode字符，例如 \u00A9 匹配版权符号(?).

### 优先级

1. 转义符号:\
2. 圆括号和方括号:(),(?:)(?=),[] 
3. 限定符:*,+,?,{n},{n,},{n,m}
4. 定位符和序列（位置与顺序）:^,$,\任何元字符
5. 替换，“或”操作：|

### 技巧与注意事项
- 通过在 * + ? 等限定符后面加 ？ 可以将贪心表达式转换为非贪心表达式或者最小匹配
- 不能将限定符与定位点一起使用，因为在紧靠换行或者字边界的前面或后面不能有一个以上位置，所以不允许 诸如 ^* 之类的表达式
- \b关心边界是在前还是后（\bASD 和 ASD\b是不一样的） 而\B 不关心
- () 生成的子表达式会有临时缓存区，用 \n 访问 而?: ?! ?= 可使其不被缓存。

### 举例

>1. http://www.runoob.com:80/html/html-tutorial.html  
其解析：/(\w+):\\/\\/([\^/:]+)(:\d*)?([\^# ]*)/  
(\w+) 匹配一个或多个单词 http 到 : 符号为止  
\\/\\/ 匹配双斜杠  
([\^/:]+) 匹配一个或多个不是 / 和 : 的字符  
(:\d*)? 匹配零个或一个 : + 零个或多个数字的字符
([\^# ]*) 匹配零个或多个不是 # 和 空格的字符 
> 2. Is is the cost of of gasoline going up up?  
其解析：/\b([a-z]+) \1\b/gi  匹配 相同的相邻单词，is is ，up up
以一个或多个小写字母开头的， 以一个或多个小写字母结尾的匹配。 最后的i表示不区分大小写， 全局标记g用于将表达式应用于输入字符串，能够查找到更多匹配。  
这里对于边界\b 的使用是必要的，否则无法识别 is issued 或者 this is 这种不合要求的内容

## 检查工具

[https://regex101.com/](https://regex101.com/)